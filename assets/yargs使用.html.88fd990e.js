import{_ as n}from"./plugin-vueexport-helper.2444895f.js";import{o as s,c as a,d as p}from"./app.d8a95119.js";const t={},e=p(`<h1 id="yargs-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#yargs-\u4F7F\u7528" aria-hidden="true">#</a> yargs \u4F7F\u7528</h1><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node</span>
<span class="token keyword">const</span> yargs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;yargs/yargs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> hideBin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;yargs/helpers&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cli <span class="token operator">=</span> <span class="token function">yargs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> argv <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">leekVersion</span><span class="token operator">:</span> <span class="token string">&#39;1.0.0&#39;</span>
<span class="token punctuation">}</span>
cli
  <span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">&#39;leek [command] &lt;options&gt;&#39;</span><span class="token punctuation">)</span>        <span class="token comment">// \u7528\u6CD5</span>
  <span class="token punctuation">.</span><span class="token function">demandCommand</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6700\u5C11\u9700\u8981\u4E00\u4E2A\u547D\u4EE4&#39;</span><span class="token punctuation">)</span>        <span class="token comment">// \u6700\u5C11\u8981\u8F93\u5165\u7684\u547D\u4EE4\u4E2A\u6570 \u4F8B\u5982 \u76F4\u63A5\u6267\u884C leek\uFF0C\u4F1A\u63D0\u793A</span>
  <span class="token punctuation">.</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token string">&#39;h&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;help&#39;</span><span class="token punctuation">)</span>                       <span class="token comment">// \u522B\u540D  leek -h</span>
  <span class="token punctuation">.</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token string">&#39;v&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;version&#39;</span><span class="token punctuation">)</span>                    <span class="token comment">// \u522B\u540D leek -v</span>
  <span class="token punctuation">.</span><span class="token function">recommendCommands</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                      <span class="token comment">// \u547D\u4EE4\u8F93\u5165\u9519\u8BEF\uFF0C\u4F1A\u63A8\u8350\u547D\u4EE4</span>
  <span class="token punctuation">.</span><span class="token function">wrap</span><span class="token punctuation">(</span>cli<span class="token punctuation">.</span><span class="token function">terminalWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token comment">// \u8BBE\u7F6E\u6253\u5370\u51FA\u6765\u547D\u4EE4\u884C\u7684\u5BBD\u5EA6, terminalWidth\u53EF\u4EE5\u83B7\u53D6\u547D\u4EE4\u884C\u5B8C\u6574\u7684\u5BBD\u5EA6</span>
  <span class="token punctuation">.</span><span class="token function">epilogue</span><span class="token punctuation">(</span><span class="token string">&#39;\u9875\u811A&#39;</span><span class="token punctuation">)</span>                          <span class="token comment">// \u8BBE\u7F6E\u9875\u811A</span>
  <span class="token punctuation">.</span><span class="token function">strict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                                 <span class="token comment">// \u4E25\u683C\u6A21\u5F0F</span>
  <span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u547D\u4EE4\u6267\u884C\u5931\u8D25\u5904\u7406</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                                <span class="token comment">// \u6DFB\u52A0\u591A\u4E2A\u9009\u9879</span>
    <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;boolean&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u7C7B\u578B</span>
      <span class="token literal-property property">describe</span><span class="token operator">:</span> <span class="token string">&#39;\u542F\u52A8debug\u6A21\u5F0F&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u63CF\u8FF0</span>
      <span class="token literal-property property">defaultDescription</span><span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4\u503C</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token string">&#39;d&#39;</span> <span class="token comment">// \u522B\u540D</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;registry&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                     <span class="token comment">// \u6DFB\u52A0\u5355\u4E2A\u9009\u9879</span>
    <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// \u547D\u4EE4\u884C\u770B\u4E0D\u5230  \u4F46\u662F\u80FD\u63A5\u6536\u5230\u8BE5\u53C2\u6570</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">describe</span><span class="token operator">:</span> <span class="token string">&#39;\u5B9A\u4E49\u5168\u5C40\u4ED3\u5E93\u5730\u5740&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">defaultDescription</span><span class="token operator">:</span> <span class="token string">&#39;www.baidu.com&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token string">&#39;r&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;debug&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39;Dev Options:&#39;</span><span class="token punctuation">)</span>         <span class="token comment">// \u5C06debug\u52A0\u5165\u5230 Dev Options: \u5206\u7EC4\u4E0B</span>

  <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">&#39;init [name]&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u521D\u59CB\u5316\u9879\u76EE&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">yargs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// \u6DFB\u52A0\u547D\u4EE4</span>
    yargs<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">describe</span><span class="token operator">:</span> <span class="token string">&#39;\u9879\u76EE\u540D\u79F0&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// leek init xxx</span>
    <span class="token comment">// argv: { _: [ &#39;init&#39; ], &#39;$0&#39;: &#39;leek&#39;, name: &#39;xxx&#39; }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                                <span class="token comment">// \u6DFB\u52A0\u547D\u4EE4</span>
    <span class="token literal-property property">command</span><span class="token operator">:</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">aliases</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;ls&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">describe</span><span class="token operator">:</span> <span class="token string">&#39;list\u63CF\u8FF0&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">builder</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">yargs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u540C\u4E0A</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">argv</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>argv<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token comment">// context \u88AB\u6CE8\u5165\u5230argv</span>


<span class="token comment">// Dev Options:</span>
<span class="token comment">// -d, --debug  \u542F\u52A8debug\u6A21\u5F0F                                                                                                                        [\u5E03\u5C14] [\u9ED8\u8BA4\u503C: info]</span>
<span class="token comment">// \u9009\u9879\uFF1A</span>
<span class="token comment">// -r, --registry  \u5B9A\u4E49\u5168\u5C40\u4ED3\u5E93\u5730\u5740                                                                                                       [\u5B57\u7B26\u4E32] [\u9ED8\u8BA4\u503C: www.baidu.com]</span>
<span class="token comment">// -h, --help      \u663E\u793A\u5E2E\u52A9\u4FE1\u606F                                                                                                                                     [\u5E03\u5C14]</span>
<span class="token comment">// -v, --version   \u663E\u793A\u7248\u672C\u53F7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),o=[e];function c(l,i){return s(),a("div",null,o)}const k=n(t,[["render",c],["__file","yargs\u4F7F\u7528.html.vue"]]);export{k as default};
