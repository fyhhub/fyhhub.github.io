import{_ as n}from"./plugin-vueexport-helper.2444895f.js";import{o as a,c as s,d as e}from"./app.002e1fb3.js";const t={},o=e(`<h1 id="_7-\u8BF4\u4E00\u4E0B-vue-\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316" tabindex="-1"><a class="header-anchor" href="#_7-\u8BF4\u4E00\u4E0B-vue-\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316" aria-hidden="true">#</a> 7.\u8BF4\u4E00\u4E0B Vue \u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316</h1><h2 id="\u6838\u5FC3\u7B54\u6848" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u7B54\u6848" aria-hidden="true">#</a> \u6838\u5FC3\u7B54\u6848</h2><p>\u6570\u7EC4\u53EF\u4EE5\u4F7F\u7528<code>Object.defineProperty</code>, \u4E4B\u6240\u4EE5\u4E0D\u4F7F\u7528\uFF0C\u662F\u8003\u8651\u5230\u6027\u80FD\u539F\u56E0\u3002</p><ol><li>vue \u6CA1\u6709\u4E3A\u6570\u7EC4\u6BCF\u4E00\u9879\u8FDB\u884C\u89C2\u6D4B\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6CA1\u6709\u4F7F\u7528<code>Object.defineProperty</code></li><li>\u5F53\u6570\u7EC4\u8C03\u7528 push \u7B49\u53D8\u5F02\u65B9\u6CD5\u65F6\uFF0C\u4F1A\u8C03\u7528<code>notify</code>\u901A\u77E5<code>\u89C2\u5BDF\u8005</code>\u66F4\u65B0</li></ol><h2 id="\u8865\u5145\u56DE\u7B54" tabindex="-1"><a class="header-anchor" href="#\u8865\u5145\u56DE\u7B54" aria-hidden="true">#</a> \u8865\u5145\u56DE\u7B54</h2><p>\u5982\u679C\u8C03\u7528\u53D8\u5F02\u65B9\u6CD5\uFF0C\u4F8B\u5982 push, \u65B0\u589E\u7684\u5143\u7D20\uFF0C\u4F1A\u9012\u5F52\u52AB\u6301, \u60F3\u8981\u76F4\u63A5\u66F4\u6539\u7D22\u5F15\u503C\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>$set</code></p><h2 id="\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a> \u5B9E\u73B0</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> originalArray <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>originalArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arrayMethods<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    originalArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> arrayMethods<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8),p=[o];function c(i,r){return a(),s("div",null,p)}const d=n(t,[["render",c],["__file","7.\u8BF4\u4E00\u4E0BVue\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316.html.vue"]]);export{d as default};
