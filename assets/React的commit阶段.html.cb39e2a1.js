import{_ as e}from"./plugin-vueexport-helper.2444895f.js";import{o as c,c as o,e as t}from"./app.98972757.js";const i={},d=t('<h1 id="react-\u7684-commit-\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#react-\u7684-commit-\u9636\u6BB5" aria-hidden="true">#</a> React \u7684 commit \u9636\u6BB5</h1><h2 id="flushpassiveeffects" tabindex="-1"><a class="header-anchor" href="#flushpassiveeffects" aria-hidden="true">#</a> flushPassiveEffects</h2><p>\u5728\u4E00\u5F00\u59CB\uFF0Creact \u4F1A<code>\u5F02\u6B65\u6267\u884C</code>\u8FD8\u6CA1\u6709\u6267\u884C\u7684<code>useEffect\u56DE\u8C03</code> \u548C <code>\u4E0A\u6B21\u66F4\u65B0\u7684useEffect\u7684\u9500\u6BC1\u51FD\u6570</code></p><h2 id="beforemutation-\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#beforemutation-\u9636\u6BB5" aria-hidden="true">#</a> beforeMutation \u9636\u6BB5</h2><ul><li>\u9996\u5148\u8FDB\u884C dom \u7684 blur \u548C focus \u76F8\u5173\u64CD\u4F5C</li><li>\u6267\u884C<code>getSnapshotBeforeUpdate</code></li><li>scheduleCallback<code>\u5F02\u6B65\u8C03\u5EA6</code>, <code>flushPassiveEffects</code>\u4F1A\u6267\u884C<code>useEffect\u56DE\u8C03</code> \u548C <code>\u4E0A\u6B21\u66F4\u65B0\u7684useEffect\u7684\u9500\u6BC1\u51FD\u6570</code></li></ul><h2 id="mutation-\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#mutation-\u9636\u6BB5" aria-hidden="true">#</a> mutation \u9636\u6BB5</h2><ul><li>\u5982\u679C\u6709\u76F4\u63A5\u7684\u6587\u672C\u66F4\u65B0 Effect Tag(<code>ContentReset</code>), \u66F4\u65B0\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9</li><li>\u5982\u679C\u5B58\u5728<code>Ref</code>\uFF0C\u66F4\u65B0 ref</li><li>\u5982\u679C\u5B58\u5728<code>Placement</code>, \u6267\u884C<code>commitPlacement</code>, \u627E\u5230\u7236\u8282\u70B9 dom\uFF0C\u5C06\u8282\u70B9\u63D2\u5165\u3002</li><li>\u5982\u679C\u5B58\u5728<code>PlacementAndUpdate</code>, \u6267\u884C<code>commitPlacement</code>\u548C<code>commitWork</code><ul><li>\u627E\u5230\u7236\u8282\u70B9 dom\uFF0C\u5C06\u8282\u70B9\u63D2\u5165</li><li>\u8C03\u7528<code>useLayoutEffect\u7684\u9500\u6BC1\u51FD\u6570</code></li><li>\u66F4\u65B0 dom \u5C5E\u6027</li></ul></li><li>\u5982\u679C\u5B58\u5728<code>Deletion</code>\uFF0C\u6267\u884C<code>commitDeletion</code><ul><li>\u5220\u9664 dom</li><li>\u5220\u9664 fiber</li><li>\u6536\u96C6 useEffect \u7684\u9500\u6BC1\u51FD\u6570</li><li>\u6267\u884C<code>componentWillUnmount</code></li><li>\u89E3\u7ED1 ref</li></ul></li></ul><h2 id="layout-\u9636\u6BB5" tabindex="-1"><a class="header-anchor" href="#layout-\u9636\u6BB5" aria-hidden="true">#</a> layout \u9636\u6BB5</h2><ul><li>\u6267\u884C<code>useLayoutEffect\u56DE\u8C03</code></li><li>\u6536\u96C6<code>useEffect\u7684\u9500\u6BC1\u51FD\u6570</code></li><li>\u6536\u96C6<code>useEffect\u7684\u56DE\u8C03</code></li><li>\u6267\u884C<code>componentDidMount</code></li><li>\u6267\u884C<code>componentDidUpdate</code></li><li>\u6267\u884C<code>this.setState</code>\u7684\u56DE\u8C03\u51FD\u6570</li><li>\u6267\u884C<code>ReactDOM.render</code>\u7684\u56DE\u8C03\u51FD\u6570</li></ul><p>\u4E00\u6BB5\u65F6\u95F4\u540E\u3002\u3002\u3002\u5F02\u6B65\u6267\u884C<code>useEffect\u7684\u9500\u6BC1\u51FD\u6570\u548C\u56DE\u8C03</code></p><h2 id="useeffect-\u548C-uselayouteffect-\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#useeffect-\u548C-uselayouteffect-\u7684\u533A\u522B" aria-hidden="true">#</a> useEffect \u548C useLayoutEffect \u7684\u533A\u522B</h2><p><img src="http://tva1.sinaimg.cn/large/006vSZ9Ugy1gyfmj76zumj31110kjwjf.jpg" alt="image.png" loading="lazy"></p>',12),a=[d];function l(f,s){return c(),o("div",null,a)}const r=e(i,[["render",l],["__file","React\u7684commit\u9636\u6BB5.html.vue"]]);export{r as default};
